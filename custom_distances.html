<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="custom-distance-measures">Custom distance measures</h1>
<p>Maciej Eder 27/08/2015</p>
<p>Distance measures in stylometry… This is definitely the topic one never gets bored with. I’ve been promising myself to write a longer piece on this one day: not this time, though. In this short post, I’m going to introduce a functionality of the R package <code>stylo</code> (ver. &gt;= 0.6.0) that allows for testing <em>any</em> distance.</p>
<p>Apart from the already-implemented distance measures (most of them can be conveniently selected via GUI), the package <code>stylo</code> features a socket for plugging in your own custom distances. In short, a bit of coding combined with some expertise in maths – that’s basically all we need. We have to design a function which takes a table with frequencies as an input parameter, and returns a square table of distances: it can be either an object of the generic class <code>dist</code> (the lower triangle of the distance matrix stored by columns in a vector), or a regular full matrix, symmetric across the diagonal. Whatever.</p>
<p>Suppose you want to test the distance discussed in a great paper by Jannidis, Schoch, Pielstrom &amp; Vitt (Jannidis et al., 2015) presented at DH2015. This is a regular Cosine Distance applied to z-scored data. Interestingly enough, this measure has been (sort of) introduced in an earlier study (Smith and Aldridge, 2011), but never tested before the Würzburg guys took over. First, we prepare a custom function (this is a simple version: a real function should check if the input dataset can be further processed, if it is a matrix, etc.). Type the following code:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">my.cosine.distance =<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">    </a>
<a class="sourceLine" id="cb1-3" data-line-number="3">    <span class="co"># z-scoring the input matrix of frequencies</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">    x =<span class="st"> </span><span class="kw">scale</span>(x)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">    </a>
<a class="sourceLine" id="cb1-6" data-line-number="6">    <span class="co"># computing cosine dissimilarity</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7">    y =<span class="st"> </span><span class="kw">as.dist</span>( x <span class="op">%*%</span><span class="st"> </span><span class="kw">t</span>(x) <span class="op">/</span><span class="st"> </span>(<span class="kw">sqrt</span>(<span class="kw">rowSums</span>(x<span class="op">^</span><span class="dv">2</span>) <span class="op">%*%</span><span class="st"> </span><span class="kw">t</span>(<span class="kw">rowSums</span>(x<span class="op">^</span><span class="dv">2</span>)))) ) </a>
<a class="sourceLine" id="cb1-8" data-line-number="8">    </a>
<a class="sourceLine" id="cb1-9" data-line-number="9">    <span class="co"># then, turning it into cosine similarity</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10">    z =<span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">    </a>
<a class="sourceLine" id="cb1-12" data-line-number="12">    <span class="co"># getting the results</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13">    <span class="kw">return</span>(z)</a>
<a class="sourceLine" id="cb1-14" data-line-number="14">}</a></code></pre></div>
<p>Once the above code is copy-pasted to the R console, it becomes a new function named <code>my.cosine.distance()</code>, and it becomes visible for other R objects. The function, however, is not persistent: the paste-copying step has to be repeated every time a new R session launched.</p>
<p>Having completed the above step, we’re all set. Now, one can use the tailored distance function with any of the main functions of the package <code>stylo</code>. Note the following examples:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">stylo</span>(<span class="dt">distance.measure =</span> <span class="st">&quot;my.cosine.distance&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">classify</span>(<span class="dt">distance.measure =</span> <span class="st">&quot;my.cosine.distance&quot;</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="kw">rolling.classify</span>(<span class="dt">distance.measure =</span> <span class="st">&quot;my.cosine.distance&quot;</span>)</a></code></pre></div>
<p>The Cosine Delta (aka Würzburg Delta) is but one example of replacing the original kernel of the Delta method with a custom distance. What about trying something else? Assume that you plan to test if the Entropy Distance outperforms other similarity measures. It has been reported in the literature (Juola and Baayen, 2005) that entropy-based distances are generally accurate in stylometry. Let’s define a tailored function:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">dist.entropy =<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">    A =<span class="st"> </span><span class="kw">t</span>(<span class="kw">t</span>(x <span class="op">+</span><span class="st"> </span><span class="dv">1</span>) <span class="op">/</span><span class="st"> </span><span class="kw">colSums</span>(x <span class="op">+</span><span class="st"> </span><span class="dv">1</span>))</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">    B =<span class="st"> </span><span class="kw">t</span>(<span class="kw">t</span>(<span class="kw">log</span>(x <span class="op">+</span><span class="st"> </span><span class="dv">2</span>)) <span class="op">/</span><span class="st"> </span><span class="op">-</span>(<span class="kw">colSums</span>(A <span class="op">*</span><span class="st"> </span><span class="kw">log</span>(A))))</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">    y =<span class="st"> </span><span class="kw">dist</span>(B, <span class="dt">method=</span><span class="st">&quot;manhattan&quot;</span>)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">    <span class="kw">return</span>(y)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">}</a></code></pre></div>
<p>The next step is rather obvious, given the already-discussed examples:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">stylo</span>(<span class="dt">distance.measure =</span> <span class="st">&quot;dist.entropy&quot;</span>)</a></code></pre></div>
<p>Now, what about an inverse correlation distance? It has been successfully applied in a cross-language benchmark study distances in stylometry (Forsyth and Sharoff, 2014), in which, by the way, a few other interesting measures have been tested. The following code was contributed by Richard Forsyth:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">##  Additional distance function for Stylo() :</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">##  submitted by R.S. Forsyth.</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">##  First version : 30/10/2013</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">##  Last revision : 30/10/2013</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">cordist =<span class="st"> </span><span class="cf">function</span> (freqvec,<span class="dt">cols=</span><span class="dv">89</span>,<span class="dt">usemeth=</span><span class="st">&quot;spearman&quot;</span>) {</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">    ##  takes 2D vector of word frex [,1:cols] (table.with.all.freqs);</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">    ##  returns a distance matrx 2b used in clustering or MDS.</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">    ##  Distance index is inverse correlation (Rank.Corr default).</a>
<a class="sourceLine" id="cb5-10" data-line-number="10"></a>
<a class="sourceLine" id="cb5-11" data-line-number="11">    <span class="cf">if</span> (cols <span class="op">&lt;</span><span class="st"> </span><span class="dv">2</span>)  <span class="kw">stop</span>(<span class="st">&quot;Too few cols!!&quot;</span>)</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">    ##  table.with.all.freqs usually has too many cols;</a>
<a class="sourceLine" id="cb5-13" data-line-number="13">    ##  don't know where correct number to be used is saved;</a>
<a class="sourceLine" id="cb5-14" data-line-number="14">    ##  therefore currently needed as function argument.</a>
<a class="sourceLine" id="cb5-15" data-line-number="15">    tranfrex =<span class="st"> </span><span class="kw">t</span>(freqvec[,<span class="dv">1</span><span class="op">:</span>cols])  ##  columns are features (words/grams)</a>
<a class="sourceLine" id="cb5-16" data-line-number="16">    dmat =<span class="st"> </span><span class="dv">1</span><span class="op">-</span><span class="kw">cor</span>(tranfrex,<span class="dt">meth=</span>usemeth)</a>
<a class="sourceLine" id="cb5-17" data-line-number="17">    ##  meth cd also be &quot;kendall&quot; or &quot;pearson&quot; (not recommended).</a>
<a class="sourceLine" id="cb5-18" data-line-number="18"></a>
<a class="sourceLine" id="cb5-19" data-line-number="19">    <span class="kw">return</span>  (<span class="kw">as.dist</span>(dmat))</a>
<a class="sourceLine" id="cb5-20" data-line-number="20">    ##  names seem to stay attached, as attr(*,&quot;Labels&quot;).</a>
<a class="sourceLine" id="cb5-21" data-line-number="21"></a>
<a class="sourceLine" id="cb5-22" data-line-number="22">}  ##  ready for hclust() or sammon() scaling.</a></code></pre></div>
<p>Etc. etc. etc. It is claimed that over 5,000 distance measures have been introduced so far in exact sciences (Moisl, 2014). Try them all!</p>
<h2 id="references">References</h2>
<div id="refs" class="references">

<div id="ref-forsyth_document_2014">

<p><strong>Forsyth, R. and Sharoff, S.</strong> (2014). Document dissimilarity within and across languages: A benchmarking study. <em>Literary and Linguistic Computing</em>, <strong>29</strong>(1): 6–22 doi:<a href="https://doi.org/10.1093/llc/fqt002">10.1093/llc/fqt002</a> (accessed 31 May 2018).</p>
</div>

<div id="ref-jannidis_improving_2015">

<p><strong>Jannidis, F., Pielström, S., Schöch, C. and Vitt, T.</strong> (2015). Improving Burrows’ Delta – An empirical evaluation of text distance measures. In, <em>Digital Humanities 2015: Conference Abstracts</em>. Sydney, Australia: University of Western Sydney <a href="http://dh2015.org/abstracts" class="uri">http://dh2015.org/abstracts</a>.</p>
</div>

<div id="ref-juola_controlled-corpus_2005">

<p><strong>Juola, P. and Baayen, H.</strong> (2005). A controlled-corpus experiment in authorship attribution by cross-entropy. <em>Literary and Linguistic Computing</em>, <strong>20</strong>(1): 59–67.</p>
</div>

<div id="ref-moisl_cluster_2014">

<p><strong>Moisl, H.</strong> (2014). <em>Cluster Analysis for Corpus Linguistics</em>. Berlin: Mouton de Gruyter.</p>
</div>

<div id="ref-smith_improving_2011">

<p><strong>Smith, P. W. H. and Aldridge, W.</strong> (2011). Improving authorship attribution: Optimizing Burrows’ Delta method. <em>Journal of Quantitative Linguistics</em>, <strong>18</strong>(1): 63–88 doi:<a href="https://doi.org/10.1080/09296174.2011.533591">10.1080/09296174.2011.533591</a> (accessed 22 April 2018).</p>
</div>

</div>

</body>
</html>
